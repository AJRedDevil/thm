{% extends "admin/base.html" %}
{% load staticfiles %}
{% block localhead %}

{% endblock localhead %}
{% block content %}
<div class='page-container container list-table'>
    <h1><a href={% url 'home' %} class='link main-back'><</a></h1>

    <h1><span class='jobId'>Customer Details</span></h1>

    <div class="hora-job-form">
        <div class='row'>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Name:</label>
                    {{customer.name}}
                </div>

                <div class="form-group">
                    <label>Phone:</label>
                    {{customer.phone}}
                </div>

                <div class="form-group">
                    <label>City:</label>
                    {{customer.address.city}}
                </div>

            </div>
            <div class="col-md-8">
                <label>Location:</label>
                {{customer.address.streetaddress}}
                <div id="map" class="map">
                </div>
            </div>
        </div>
          <!-- eo hora-job-form -->
    </div>
</div>
<script src="http://openlayers.org/api/2.13/OpenLayers.js"></script>
<script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>
<script type="text/javascript">    
    var map;
    map = new OpenLayers.Map({
        div: "map",
        allOverlays: true
    });
    // customer coordinates
    var lonLat = new OpenLayers.LonLat({{customer.address_coordinates.get_coords.0}}, {{customer.address_coordinates.get_coords.1}}).transform('EPSG:4326', 'EPSG:3857');
    // google map layer
    var gmap = new OpenLayers.Layer.Google("ROADMAP", { type: google.maps.MapTypeId.ROADMAP });
    map.addLayer(gmap);
    // marker layer
    var markers = new OpenLayers.Layer.Markers( "Markers" );
    map.addLayer(markers);
    // set marker and center map on  marker
    markers.addMarker(new OpenLayers.Marker(lonLat));
    map.setCenter(lonLat, 14);
</script>
{% endblock content %}